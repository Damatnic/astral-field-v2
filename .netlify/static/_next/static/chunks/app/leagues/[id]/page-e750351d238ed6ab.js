(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{87186:function(e,s,t){Promise.resolve().then(t.bind(t,59398))},59398:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var a=t(57437),r=t(50080),l=t(2265),i=t(99376),n=t(27648);function d(){var e,s,t,d,c,x,o,m,h,g,u,p,j,v,y,N,f,b;let w=(0,i.useParams)().id,[k,S]=(0,l.useState)(null),[F,L]=(0,l.useState)(!0),[T,W]=(0,l.useState)(null),[C,R]=(0,l.useState)("standings"),E=(0,l.useCallback)(async()=>{try{L(!0);let e=await fetch("/api/leagues/".concat(w)),s=await e.json();s.success?S(s.data):W(s.message||"Failed to load league")}catch(e){W("Error loading league"),(0,r.Tx)(e,"page")}finally{L(!1)}},[w]);return((0,l.useEffect)(()=>{E()},[w,E]),F)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-8"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)("div",{className:"bg-white rounded-lg h-96 shadow"})}),(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"bg-white rounded-lg h-96 shadow"})})]})]})})}):T||!k?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto text-center",children:[(0,a.jsx)("div",{className:"h-24 w-24 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"h-12 w-12 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"League Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:T||"The league you are looking for does not exist."}),(0,a.jsx)(n.default,{href:"/leagues",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 font-medium",children:"Back to Leagues"})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:k.name}),(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-4 text-gray-600",children:[(0,a.jsxs)("span",{children:[k.season," Season"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["Week ",k.currentWeek||1]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[k.teamCount," Teams"]}),k.commissioner&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["Commissioner: ",k.commissioner.name]})]})]}),k.description&&(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:k.description})]}),(0,a.jsxs)("div",{className:"mt-4 lg:mt-0 flex gap-3",children:[(0,a.jsx)(n.default,{href:"/leagues/".concat(k.id,"/settings"),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 font-medium",children:"League Settings"}),(0,a.jsx)(n.default,{href:"/leagues/".concat(k.id,"/draft"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 font-medium",children:"Draft Room"})]})]}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{key:"standings",label:"Standings"},{key:"scoreboard",label:"Scoreboard"},{key:"transactions",label:"Transactions"}].map(e=>(0,a.jsx)("button",{onClick:()=>R(e.key),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(C===e.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.key))})})})]})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[T&&(0,a.jsx)("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:T}),"standings"===C&&(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"League Standings"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Record"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PF"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PA"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Streak"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null===(e=k.teams)||void 0===e?void 0:e.map((e,s)=>{var t,r,l,i,d,c;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",s+1]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-8 w-8",children:(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xs font-medium text-blue-800",children:e.name[0].toUpperCase()})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(0,a.jsx)(n.default,{href:"/teams/".concat(e.id),className:"hover:text-blue-600",children:e.name})}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.owner.name})]})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.wins,"-",e.losses,e.ties>0&&"-".concat(e.ties),(0,a.jsxs)("span",{className:"text-gray-500 ml-1",children:["(",((null===(t=e.record)||void 0===t?void 0:t.percentage)*100).toFixed(1),"%)"]})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.pointsFor.toFixed(1)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.pointsAgainst.toFixed(1)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((null===(l=e.standings)||void 0===l?void 0:null===(r=l.streak)||void 0===r?void 0:r.startsWith("W"))?"bg-green-100 text-green-800":(null===(d=e.standings)||void 0===d?void 0:null===(i=d.streak)||void 0===i?void 0:i.startsWith("L"))?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:(null===(c=e.standings)||void 0===c?void 0:c.streak)||"N/A"})})]},e.id)})})]})})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"League Stats"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Total Points Scored"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:null===(s=k.teams)||void 0===s?void 0:s.reduce((e,s)=>e+s.pointsFor,0).toFixed(1)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Average Score"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:k.teams&&k.teams.length>0?(k.teams.reduce((e,s)=>e+s.pointsFor,0)/k.teams.length/Math.max(k.currentWeek||1,1)).toFixed(1):"0.0"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Highest Score"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:k.teams&&k.teams.length>0?Math.max(...k.teams.map(e=>e.pointsFor)).toFixed(1):"0.0"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Lowest Score"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:k.teams&&k.teams.length>0?Math.min(...k.teams.map(e=>e.pointsFor)).toFixed(1):"0.0"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"League Settings"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Roster Format"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(null===(d=k.settings)||void 0===d?void 0:null===(t=d.rosterSlots)||void 0===t?void 0:t.QB)||1,"QB • ",(null===(x=k.settings)||void 0===x?void 0:null===(c=x.rosterSlots)||void 0===c?void 0:c.RB)||2,"RB • ",(null===(m=k.settings)||void 0===m?void 0:null===(o=m.rosterSlots)||void 0===o?void 0:o.WR)||2,"WR • ",(null===(g=k.settings)||void 0===g?void 0:null===(h=g.rosterSlots)||void 0===h?void 0:h.TE)||1,"TE • ",(null===(p=k.settings)||void 0===p?void 0:null===(u=p.rosterSlots)||void 0===u?void 0:u.FLEX)||1,"FLEX"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Scoring"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["PPR (",(null===(y=k.settings)||void 0===y?void 0:null===(v=y.scoringSystem)||void 0===v?void 0:null===(j=v.receiving)||void 0===j?void 0:j.receptions)||.5," pts/rec)"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Waiver System"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:(null===(f=k.settings)||void 0===f?void 0:null===(N=f.waiverMode)||void 0===N?void 0:N.toLowerCase().replace("_"," "))||"Rolling"})]}),(null===(b=k.settings)||void 0===b?void 0:b.tradeDeadline)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Trade Deadline"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:new Date(k.settings.tradeDeadline).toLocaleDateString()})]})]})]})]})]}),"scoreboard"===C&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Week ",k.currentWeek," Scoreboard"]}),k.matchups&&k.matchups.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.matchups.map((e,s)=>{var t,r;return(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-center flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.awayTeam.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:null===(t=e.awayTeam.owner)||void 0===t?void 0:t.name}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:e.awayScore.toFixed(1)})]}),(0,a.jsx)("div",{className:"px-4",children:(0,a.jsx)("span",{className:"text-gray-400 font-medium",children:"vs"})}),(0,a.jsxs)("div",{className:"text-center flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.homeTeam.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:null===(r=e.homeTeam.owner)||void 0===r?void 0:r.name}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:e.homeScore.toFixed(1)})]})]}),(0,a.jsx)("div",{className:"text-center mt-3",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.isComplete?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.isComplete?"Final":"In Progress"})})]},s)})}):(0,a.jsx)("p",{className:"text-gray-600 text-center py-8",children:"No matchups scheduled for this week."})]}),"transactions"===C&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Transactions"}),(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-600",children:"No recent transactions."})})]})]})]})}},50080:function(e,s,t){"use strict";function a(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],"string"==typeof e&&Error(e)}function r(e,s){a(e,{component:"Auth",operation:s})}function l(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown";a(e,{component:s,operation:t})}t.d(s,{Tx:function(){return l},sr:function(){return r}})}},function(e){e.O(0,[448,971,117,744],function(){return e(e.s=87186)}),_N_E=e.O()}]);