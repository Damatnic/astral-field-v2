(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{68698:function(e,a,r){Promise.resolve().then(r.bind(r,75913))},42208:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},51817:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},99376:function(e,a,r){"use strict";var t=r(35475);r.o(t,"useParams")&&r.d(a,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(a,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(a,{useRouter:function(){return t.useRouter}})},25523:function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"RouterContext",{enumerable:!0,get:function(){return t}});let t=r(47043)._(r(2265)).default.createContext(null)},75913:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return v}});var t=r(57437),s=r(2265),l=r(99376),i=r(33145),n=r(52582),c=r(88906),o=r(98617),d=r(95805),m=r(67815),u=r(49322);let x=(0,r(79205).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var h=r(42208),p=r(51817),f=r(41671);let y=[{id:"nicholas-damato",name:"Nicholas D'Amato",email:"nicholas.damato@astralfield.com",role:"commissioner",avatar:"/api/avatars/nicholas-damato",description:"\uD83C\uDFC6 League Commissioner - Championship Team Owner"},{id:"brittany-bergum",name:"Brittany Bergum",email:"brittany.bergum@astralfield.com",role:"player",avatar:"/api/avatars/brittany-bergum",description:"Fantasy Football Strategist"},{id:"cason-minor",name:"Cason Minor",email:"cason.minor@astralfield.com",role:"player",avatar:"/api/avatars/cason-minor",description:"Rising Fantasy Star"},{id:"david-jarvey",name:"David Jarvey",email:"david.jarvey@astralfield.com",role:"player",avatar:"/api/avatars/david-jarvey",description:"Veteran League Member"},{id:"jack-mccaigue",name:"Jack McCaigue",email:"jack.mccaigue@astralfield.com",role:"player",avatar:"/api/avatars/jack-mccaigue",description:"Fantasy Analytics Expert"},{id:"jon-kornbeck",name:"Jon Kornbeck",email:"jon.kornbeck@astralfield.com",role:"player",avatar:"/api/avatars/jon-kornbeck",description:"Trade Specialist"},{id:"kaity-lorbecki",name:"Kaity Lorbecki",email:"kaity.lorbecki@astralfield.com",role:"player",avatar:"/api/avatars/kaity-lorbecki",description:"Waiver Wire Expert"},{id:"larry-mccaigue",name:"Larry McCaigue",email:"larry.mccaigue@astralfield.com",role:"player",avatar:"/api/avatars/larry-mccaigue",description:"Season Veteran"},{id:"nick-hartley",name:"Nick Hartley",email:"nick.hartley@astralfield.com",role:"player",avatar:"/api/avatars/nick-hartley",description:"Rookie Sensation"},{id:"renee-mccaigue",name:"Renee McCaigue",email:"renee.mccaigue@astralfield.com",role:"player",avatar:"/api/avatars/renee-mccaigue",description:"Championship Contender"}];function g(e){let{role:a,className:r="h-5 w-5"}=e;switch(a){case"admin":return(0,t.jsx)(c.Z,{className:"".concat(r," text-red-600")});case"commissioner":return(0,t.jsx)(o.Z,{className:"".concat(r," text-yellow-600")});case"player":return(0,t.jsx)(d.Z,{className:"".concat(r," text-blue-600")});default:return(0,t.jsx)(m.Z,{className:"".concat(r," text-gray-600")})}}function b(e){let{onSelect:a}=e,[r,l]=(0,s.useState)("all"),n="all"===r?y:y.filter(e=>e.role===r),c=[{value:"all",label:"All Roles",count:y.length},{value:"admin",label:"Administrators",count:y.filter(e=>"admin"===e.role).length},{value:"commissioner",label:"Commissioners",count:y.filter(e=>"commissioner"===e.role).length},{value:"player",label:"Players",count:y.filter(e=>"player"===e.role).length}];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Choose Your Profile"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Select your user profile to access your team in the 2025 NFL Season Week 3."})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(e=>(0,t.jsxs)("button",{onClick:()=>l(e.value),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat(r===e.value?"bg-primary-100 text-primary-900 border border-primary-200":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"),children:[e.label," (",e.count,")"]},e.value))}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(e=>(0,t.jsx)("button",{onClick:()=>a(e),className:"group text-left p-4 rounded-lg border border-gray-200 hover:border-primary-300 hover:shadow-md transition-all duration-200",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsxs)("div",{className:"flex-shrink-0",children:[e.avatar?(0,t.jsx)(i.default,{className:"h-12 w-12 rounded-full object-cover",src:e.avatar,alt:e.name,width:48,height:48,onError:e=>{var a;e.currentTarget.style.display="none",null===(a=e.currentTarget.nextElementSibling)||void 0===a||a.classList.remove("hidden")}}):null,(0,t.jsx)("div",{className:"h-12 w-12 rounded-full bg-gray-100 flex items-center justify-center ".concat(e.avatar?"hidden":""),children:(0,t.jsx)(m.Z,{className:"h-8 w-8 text-gray-400"})})]}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 group-hover:text-primary-600 transition-colors",children:e.name}),(0,t.jsx)(g,{role:e.role,className:"h-4 w-4"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:e.email}),(0,t.jsx)("p",{className:"text-xs text-gray-600 leading-relaxed",children:e.description}),(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mt-2 ".concat("admin"===e.role?"bg-red-100 text-red-800":"commissioner"===e.role?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.role.charAt(0).toUpperCase()+e.role.slice(1)})]})]})},e.id))})]})}function j(e){let{onSubmit:a,isLoading:r,error:l}=e,[i,n]=(0,s.useState)({email:"",password:""}),[c,o]=(0,s.useState)(!1),[d,m]=(0,s.useState)({}),f=()=>{let e={};return i.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(e.email="Invalid email format"):e.email="Email is required",i.password?i.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",m(e),0===Object.keys(e).length},y=(e,a)=>{n(r=>({...r,[e]:a})),d[e]&&m(a=>({...a,[e]:""}))};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Manual Login"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Enter your league member credentials to access your team."})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"\uD83C\uDFC8 2025 NFL Season Week 3 - Login Info"}),(0,t.jsxs)("div",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:"League Members:"})}),(0,t.jsx)("p",{children:"• Nicholas D'Amato (Commissioner) - nicholas.damato@astralfield.com"}),(0,t.jsx)("p",{children:"• Brittany Bergum - brittany.bergum@astralfield.com"}),(0,t.jsx)("p",{children:"• Cason Minor - cason.minor@astralfield.com"}),(0,t.jsx)("p",{children:"• David Jarvey - david.jarvey@astralfield.com"}),(0,t.jsx)("p",{children:"• Jack McCaigue - jack.mccaigue@astralfield.com"}),(0,t.jsx)("p",{children:"• + 5 more league members..."}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Password for all:"})," player123!"]})]})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f()&&a(i.email,i.password)},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),(0,t.jsx)("input",{id:"email",type:"email",value:i.email,onChange:e=>y("email",e.target.value),className:"input-field ".concat(d.email?"border-red-300 focus:border-red-500 focus:ring-red-500":""),placeholder:"Enter your email",disabled:r}),d.email&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 mr-1"}),d.email]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{id:"password",type:c?"text":"password",value:i.password,onChange:e=>y("password",e.target.value),className:"input-field pr-10 ".concat(d.password?"border-red-300 focus:border-red-500 focus:ring-red-500":""),placeholder:"Enter your password",disabled:r}),(0,t.jsx)("button",{type:"button",onClick:()=>o(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:r,children:c?(0,t.jsx)(x,{className:"h-4 w-4 text-gray-400"}):(0,t.jsx)(h.Z,{className:"h-4 w-4 text-gray-400"})})]}),d.password&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 mr-1"}),d.password]})]}),l&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsxs)("p",{className:"text-sm text-red-800 flex items-center",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),l]})}),(0,t.jsx)("button",{type:"submit",disabled:r,className:"w-full btn-primary flex items-center justify-center",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Z,{className:"animate-spin h-4 w-4 mr-2"}),"Signing in..."]}):"Sign in"})]})]})}function v(){let{login:e,isAuthenticated:a,isLoading:r}=(0,n.aC)(),i=(0,l.useRouter)(),[c,o]=(0,s.useState)("profile"),[d,m]=(0,s.useState)(!1),[u,x]=(0,s.useState)(null),[h,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{a&&i.push("/")},[a,i]);let y=async a=>{x(null),p(null),m(!0);try{let r=await e(a.email,"player123!");r.success?(p("Successfully logged in as ".concat(a.name)),setTimeout(()=>{i.push("/")},1e3)):x(r.error||"Login failed")}catch(e){x("An unexpected error occurred")}finally{m(!1)}},g=async(a,r)=>{x(null),p(null),m(!0);try{let t=await e(a,r);t.success?(p("Successfully logged in!"),setTimeout(()=>{i.push("/")},1e3)):x(t.error||"Login failed")}catch(e){x("An unexpected error occurred")}finally{m(!1)}};return r?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"loading-spinner mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Checking authentication..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"h-12 w-12 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold text-lg",children:"AF"})})}),(0,t.jsx)("h1",{className:"mt-6 text-center text-3xl font-bold text-gray-900",children:"Welcome to AstralField"}),(0,t.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access your fantasy football dashboard"})]}),(0,t.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-4xl",children:(0,t.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,t.jsx)("div",{className:"flex justify-center mb-8",children:(0,t.jsxs)("div",{className:"bg-gray-100 rounded-lg p-1 flex",children:[(0,t.jsx)("button",{onClick:()=>o("profile"),className:"px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat("profile"===c?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Select Profile"}),(0,t.jsx)("button",{onClick:()=>o("form"),className:"px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat("form"===c?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Manual Login"})]})}),h&&(0,t.jsx)("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:(0,t.jsxs)("p",{className:"text-sm text-green-800 flex items-center",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),h]})}),"profile"===c?(0,t.jsx)(b,{onSelect:y}):(0,t.jsx)(j,{onSubmit:g,isLoading:d,error:u})]})})]})}},52582:function(e,a,r){"use strict";r.d(a,{aC:function(){return n}});var t=r(57437),s=r(2265),l=r(50080);let i=(0,s.createContext)(void 0);function n(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}a.default=function(e){let{children:a}=e,[r,n]=(0,s.useState)(null),[c,o]=(0,s.useState)(!0),d=!!r,m=(0,s.useCallback)(async()=>{try{let e=await fetch("/api/auth/me",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!e.ok){if(401===e.status)return null;throw Error("HTTP error! status: ".concat(e.status))}return(await e.json()).user||null}catch(e){return(0,l.sr)(e,"fetchCurrentUser"),null}},[]);(0,s.useEffect)(()=>{(async()=>{o(!0);try{let e=await m();n(e)}catch(e){(0,l.sr)(e,"initialize"),n(null)}finally{o(!1)}})()},[m]);let u=(0,s.useCallback)(async(e,a)=>{try{o(!0);let r=await fetch("/api/auth/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})}),t=await r.json();if(!r.ok)return{success:!1,error:t.error||"Login failed"};if(t.success&&t.user)return n(t.user),{success:!0};return{success:!1,error:t.error||"Login failed"}}catch(e){return(0,l.sr)(e,"login"),{success:!1,error:"Network error. Please try again."}}finally{o(!1)}},[]),x=(0,s.useCallback)(async()=>{try{o(!0),await fetch("/api/auth/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}),n(null),window.location.href="/login"}catch(e){(0,l.sr)(e,"logout"),n(null),window.location.href="/login"}finally{o(!1)}},[]),h=(0,s.useCallback)(async()=>{try{let e=await m();n(e)}catch(e){(0,l.sr)(e,"refreshUser")}},[m]),p=(0,s.useCallback)(e=>(null==r?void 0:r.role)===e,[r]),f=(0,s.useCallback)(e=>!!r&&e.includes(r.role),[r]);return(0,t.jsx)(i.Provider,{value:{user:r,isLoading:c,isAuthenticated:d,login:u,logout:x,refreshUser:h,hasRole:p,hasPermission:f},children:a})}},50080:function(e,a,r){"use strict";function t(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],"string"==typeof e&&Error(e)}function s(e,a){t(e,{component:"Auth",operation:a})}function l(e,a){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown";t(e,{component:a,operation:r})}r.d(a,{Tx:function(){return l},sr:function(){return s}})}},function(e){e.O(0,[785,971,117,744],function(){return e(e.s=68698)}),_N_E=e.O()}]);